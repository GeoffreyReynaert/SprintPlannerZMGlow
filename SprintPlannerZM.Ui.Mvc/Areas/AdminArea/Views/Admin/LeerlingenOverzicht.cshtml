@model IList<SprintPlannerZM.Model.Klas>

<head>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <link href="~/css/bootstrap-extensions.css" rel="stylesheet" asp-append-version="true"/>
</head>
<br/>
<div class="pt-3" id="partialViewLeerling">
    <div class="containerDropdowns left-allignToNav">
        <form>
            <select class="form-control select2 textBoxLayout" id="cmbKlassen">
                <option id="klasIndex">---Kies ne klas---</option>
                @foreach (var klas in Model){
                    if (klas.klasnaam != "0")
                    {
                        <option value="@klas.klasID">@klas.klasnaam</option>
                        }
                    }
                    </select>
        </form>
        <form>
            <select class="form-control select2 textBoxLayout" id="cmbLeerlingen">
                <option id="leerlingIndex">---Kies ne leerling---</option>
                @foreach (var klas in Model)
                {
                    @foreach (var leerling in klas.Leerlingen)
                    {
                        <option value="@leerling.leerlingID">@leerling.familieNaam @leerling.voorNaam</option>
                    }
                }
            </select>
        </form>
    </div>
</div>

<div id="partialView"></div>


<script>
    $('.select2').select2();
    $(document).ready(function() {
        $("#partialView").load("PartialAlleLeerlingen");
    });
    $("#cmbKlassen").change(function() {
        if ($(this).children(":selected").attr("id") !== "klasIndex") {
            $("#partialView").load("PartialLeerlingenByKlas", { klasID: $(this).find('option:selected').val() });
        } else {
            $("#partialView").load("PartialAlleLeerlingen");
        }
    });
    $("#cmbLeerlingen").change(function() {
        if ($(this).children(":selected").attr("id") !== "leerlingIndex") {
            $("#partialView").load("PartialComboLeerlingen", { leerlingID: $(this).find('option:selected').val() });
        } else {
            $("#partialView").load("PartialAlleLeerlingen");
        }
    });
</script>